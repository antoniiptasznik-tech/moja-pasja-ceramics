import{j as e,r as o,c as d}from"./cartStore.m4UbHVra.js";import{u as x}from"./index.bHeDHGwy.js";import"./index.yBjzXJbu.js";import"./index.yGrMsBkE.js";function f(){const i=x(d),a=Object.values(i),n=a.reduce((s,t)=>s+t.price*t.quantity,0),r=n>300?0:25,c=n+r;async function l(){try{const s=await fetch("/api/create-checkout-session",{method:"POST",body:JSON.stringify({items:a}),headers:{"Content-Type":"application/json"}}),{url:t}=await s.json();t&&(window.location.href=t)}catch(s){console.error(s)}}return a.length===0?e.jsxs("div",{className:"text-center py-24",children:[e.jsx("h2",{className:"text-3xl font-serif text-cream-100 mb-6",children:"Twój koszyk jest pusty"}),e.jsx("a",{href:"/kolekcja",className:"inline-block px-8 py-3 bg-bronze-500 text-navy-900 font-bold uppercase tracking-widest hover:bg-white transition-colors",children:"Wróć do sklepu"})]}):e.jsxs("div",{className:"grid lg:grid-cols-3 gap-12 items-start",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"border-b border-white/10 pb-4 text-cream-100/40 text-xs uppercase tracking-widest hidden md:flex justify-between",children:[e.jsx("span",{children:"Produkt"}),e.jsxs("div",{className:"flex gap-12 pr-4",children:[e.jsx("span",{children:"Ilość"}),e.jsx("span",{children:"Suma"})]})]}),a.map(s=>e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center bg-white/5 p-6 rounded-sm border border-white/5",children:[e.jsx("div",{className:"w-24 h-32 flex-shrink-0 bg-navy-800",children:e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsx("h3",{className:"text-xl font-serif text-cream-100",children:s.name}),e.jsxs("p",{className:"text-bronze-500 text-sm mt-1",children:[s.price," PLN"]})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs text-cream-100/40 uppercase mb-1 md:hidden",children:"Ilość"}),e.jsx("div",{className:"flex items-center gap-4 bg-navy-900 px-4 py-2 rounded-full border border-white/10",children:e.jsx("span",{className:"text-cream-100 font-mono",children:s.quantity})})]}),e.jsxs("div",{className:"text-cream-100 font-serif text-lg w-20 text-right",children:[s.price*s.quantity," PLN"]}),e.jsx("button",{onClick:()=>o(s.id),className:"text-white/20 hover:text-red-400 transition-colors p-2",title:"Usuń",children:"✕"})]})]},s.id))]}),e.jsxs("div",{className:"bg-white/5 p-8 border border-white/10 sticky top-32",children:[e.jsx("h3",{className:"text-2xl font-serif text-cream-100 mb-8",children:"Podsumowanie"}),e.jsxs("div",{className:"space-y-4 text-sm text-cream-100/80 font-body mb-8 border-b border-white/10 pb-8",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Wartość produktów"}),e.jsxs("span",{children:[n," PLN"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Dostawa (Kurier)"}),e.jsx("span",{children:r===0?e.jsx("span",{className:"text-bronze-500",children:"GRATIS"}):`${r} PLN`})]}),r>0&&e.jsx("p",{className:"text-xs text-white/30 italic mt-1 text-right",children:"Darmowa dostawa od 300 PLN"})]}),e.jsxs("div",{className:"flex justify-between items-end mb-8",children:[e.jsx("span",{className:"text-lg text-cream-100 font-serif",children:"Do zapłaty"}),e.jsxs("span",{className:"text-3xl text-bronze-500 font-serif",children:[c," PLN"]})]}),e.jsx("button",{onClick:l,className:"w-full bg-bronze-500 text-navy-900 py-4 uppercase tracking-widest font-bold hover:bg-white transition-colors duration-300 mb-4",children:"Przejdź do płatności"}),e.jsxs("p",{className:"text-center text-xs text-white/30 leading-relaxed",children:["Płatności są przetwarzane bezpiecznie przez Stripe.",e.jsx("br",{}),"Nie przechowujemy Twoich danych karty."]})]})]})}export{f as default};
